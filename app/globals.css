@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * {
    @apply border-border-primary;
  }
  
  body {
    @apply bg-bg text-text-primary antialiased;
    font-feature-settings: "rlig" 1, "calt" 1;
  }
  
  html {
    scroll-behavior: smooth;
  }

  /* Focus styles for accessibility */
  *:focus-visible {
    @apply outline-none ring-2 ring-accent ring-offset-2 ring-offset-bg;
  }

  /* Improved button focus styles */
  button:focus-visible {
    @apply outline-none ring-2 ring-accent ring-offset-2 ring-offset-bg;
  }

  /* Input focus styles */
  input:focus-visible,
  textarea:focus-visible {
    @apply outline-none ring-2 ring-accent ring-offset-2 ring-offset-bg border-accent;
  }
}

@layer components {
  /* Enhanced glass card with better hierarchy */
  .glass-card {
    @apply bg-surface/90 backdrop-blur-md border border-border-primary rounded-xl shadow-card;
    transition: all 0.2s ease-out;
  }
  
  .glass-card:hover {
    @apply shadow-card-hover border-border-secondary;
  }

  .glass-card-elevated {
    @apply bg-surface-elevated/90 backdrop-blur-md border border-border-secondary rounded-xl shadow-card-hover;
  }
  
  /* Improved network node with better visual hierarchy */
  .network-node {
    @apply relative p-5 rounded-xl border border-border-primary hover:border-accent/50 transition-all duration-300 cursor-pointer group;
    background: linear-gradient(135deg, rgba(99, 102, 241, 0.05), rgba(34, 197, 94, 0.05));
  }
  
  .network-node:hover {
    @apply shadow-card-hover;
    background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(34, 197, 94, 0.1));
  }
  
  .network-connection {
    @apply absolute w-px bg-gradient-to-b from-accent to-primary opacity-40;
    height: 2px;
    animation: pulse 2s ease-in-out infinite;
  }
  
  /* Enhanced button styles */
  .btn-primary {
    @apply bg-gradient-to-r from-primary to-accent text-white px-6 py-3 rounded-lg font-medium hover:from-blue-600 hover:to-green-600 transition-all duration-200 shadow-lg hover:shadow-xl focus:shadow-xl;
    min-height: 44px; /* Touch-friendly minimum */
  }
  
  .btn-secondary {
    @apply bg-surface text-text-primary border border-border-primary px-6 py-3 rounded-lg font-medium hover:bg-surface-elevated hover:border-border-secondary transition-all duration-200;
    min-height: 44px; /* Touch-friendly minimum */
  }

  .btn-ghost {
    @apply text-text-secondary hover:text-text-primary hover:bg-surface/50 px-4 py-2 rounded-lg font-medium transition-all duration-200;
    min-height: 44px; /* Touch-friendly minimum */
  }

  .btn-icon {
    @apply p-3 rounded-lg text-text-secondary hover:text-text-primary hover:bg-surface/50 transition-all duration-200;
    min-width: 44px;
    min-height: 44px;
  }
  
  /* Enhanced metric card */
  .metric-card {
    @apply glass-card p-6 hover:bg-surface-elevated/90 transition-all duration-200 animate-fade-in;
  }
  
  /* Improved connection indicators */
  .connection-indicator {
    @apply w-3 h-3 rounded-full relative;
  }
  
  .connection-indicator.online {
    @apply bg-success;
    box-shadow: 0 0 0 2px rgba(34, 197, 94, 0.2);
  }
  
  .connection-indicator.offline {
    @apply bg-text-tertiary;
  }
  
  .connection-indicator.pending {
    @apply bg-warning animate-pulse;
  }

  .connection-indicator.error {
    @apply bg-error;
    box-shadow: 0 0 0 2px rgba(239, 68, 68, 0.2);
  }

  /* Tab navigation improvements */
  .tab-button {
    @apply flex-1 flex items-center justify-center space-x-2 py-3 px-4 rounded-lg font-medium transition-all duration-200 min-h-[44px];
  }

  .tab-button.active {
    @apply bg-accent text-white shadow-lg;
  }

  .tab-button.inactive {
    @apply text-text-secondary hover:text-text-primary hover:bg-surface/50;
  }

  /* Input improvements */
  .input-field {
    @apply w-full px-4 py-3 bg-surface border border-border-primary rounded-lg text-text-primary placeholder-text-tertiary transition-all duration-200;
    min-height: 44px;
  }

  .input-field:focus {
    @apply border-accent ring-2 ring-accent/20;
  }

  /* Search input specific styling */
  .search-input {
    @apply input-field pl-12;
  }

  /* Loading states */
  .loading-spinner {
    @apply w-5 h-5 border-2 border-current border-t-transparent rounded-full animate-spin;
  }

  .loading-pulse {
    @apply animate-pulse bg-surface rounded;
  }

  /* Status badges */
  .status-badge {
    @apply inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium;
  }

  .status-badge.success {
    @apply bg-success/20 text-success;
  }

  .status-badge.warning {
    @apply bg-warning/20 text-warning;
  }

  .status-badge.error {
    @apply bg-error/20 text-error;
  }

  .status-badge.neutral {
    @apply bg-text-tertiary/20 text-text-secondary;
  }

  /* Card hover effects */
  .card-interactive {
    @apply transition-all duration-200 hover:scale-[1.02] hover:shadow-card-hover;
  }

  /* Typography improvements */
  .heading-1 {
    @apply text-3xl font-bold text-text-primary leading-tight;
  }

  .heading-2 {
    @apply text-2xl font-semibold text-text-primary leading-tight;
  }

  .heading-3 {
    @apply text-xl font-semibold text-text-primary leading-snug;
  }

  .heading-4 {
    @apply text-lg font-medium text-text-primary leading-snug;
  }

  .body-large {
    @apply text-base text-text-primary leading-relaxed;
  }

  .body-medium {
    @apply text-sm text-text-primary leading-relaxed;
  }

  .body-small {
    @apply text-xs text-text-secondary leading-normal;
  }

  .caption {
    @apply text-xs text-text-tertiary leading-normal;
  }
}

@layer utilities {
  .text-gradient {
    @apply bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent;
  }
  
  .border-gradient {
    border-image: linear-gradient(135deg, hsl(230 70% 55%), hsl(130 70% 55%)) 1;
  }

  /* Accessibility utilities */
  .sr-only {
    @apply absolute w-px h-px p-0 -m-px overflow-hidden whitespace-nowrap border-0;
    clip: rect(0, 0, 0, 0);
  }

  /* Animation utilities */
  .animate-in {
    @apply animate-fade-in;
  }

  .animate-slide-up {
    @apply animate-slide-up;
  }

  .animate-scale-in {
    @apply animate-scale-in;
  }

  /* Touch-friendly utilities */
  .touch-target {
    min-width: 44px;
    min-height: 44px;
  }

  /* Scrollbar styling */
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: hsl(230 20% 25%) hsl(230 20% 16%);
  }

  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    background: hsl(230 20% 16%);
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    background: hsl(230 20% 25%);
    border-radius: 3px;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background: hsl(230 20% 30%);
  }
}
